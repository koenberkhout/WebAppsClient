(function(r,a){"use strict";!function(){for(var i=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!r.requestAnimationFrame;++n)r.requestAnimationFrame=r[e[n]+"RequestAnimationFrame"],r.cancelAnimationFrame=r[e[n]+"CancelAnimationFrame"]||r[e[n]+"CancelRequestAnimationFrame"];r.requestAnimationFrame||(r.requestAnimationFrame=function(e,n){var t=(new Date).getTime(),o=Math.max(0,16-(t-i)),a=r.setTimeout(function(){e(t+o)},o);return i=t+o,a}),r.cancelAnimationFrame||(r.cancelAnimationFrame=function(e){clearTimeout(e)})}();var i,s,l,c,d,u={autoRun:!0,barThickness:3,barColors:{0:"rgba(26,  188, 156, .9)",".25":"rgba(52,  152, 219, .9)",".50":"rgba(241, 196, 15,  .9)",".75":"rgba(230, 126, 34,  .9)","1.0":"rgba(211, 84,  0,   .9)"},shadowBlur:10,shadowColor:"rgba(0,   0,   0,   .6)"},m=function(){i.width=r.innerWidth,i.height=5*u.barThickness;var e=i.getContext("2d");e.shadowBlur=u.shadowBlur,e.shadowColor=u.shadowColor;var n=e.createLinearGradient(0,0,i.width,0);for(var t in u.barColors)n.addColorStop(t,u.barColors[t]);e.lineWidth=u.barThickness,e.beginPath(),e.moveTo(0,u.barThickness/2),e.lineTo(Math.ceil(c*i.width),u.barThickness/2),e.strokeStyle=n,e.stroke()},h={config:function(e){for(var n in e)u.hasOwnProperty(n)&&(u[n]=e[n])},show:function(){var e,n,t,o;d||(d=!0,null!==l&&r.cancelAnimationFrame(l),i||((o=(i=a.createElement("canvas")).style).position="fixed",o.top=o.left=o.right=o.margin=o.padding=0,o.zIndex=100001,o.display="none",o.border="none",a.body.appendChild(i),n="resize",t=m,(e=r).addEventListener?e.addEventListener(n,t,!1):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t),i.style.opacity=1,i.style.display="block",h.progress(0),u.autoRun&&function e(){s=r.requestAnimationFrame(e),h.progress("+"+.05*Math.pow(1-Math.sqrt(c),2))}())},progress:function(e){return void 0===e||("string"==typeof e&&(e=(0<=e.indexOf("+")||0<=e.indexOf("-")?c:0)+parseFloat(e)),c=1<e?1:e,m()),c},hide:function(){d&&(d=!1,null!=s&&(r.cancelAnimationFrame(s),s=null),function e(){if(1<=h.progress("+.1")&&(i.style.opacity-=.05,i.style.opacity<=.05))return i.style.display="none",void(l=null);l=r.requestAnimationFrame(e)}())}};"object"==typeof module&&"object"==typeof module.exports?module.exports=h:"function"==typeof define&&define.amd?define(function(){return h}):this.topbar=h}).call(this,window,document);